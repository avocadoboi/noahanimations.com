<!DOCTYPE html>
<html>

<head>
    <title>Noah A. Hall</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=0.5">

    <link rel="shortcut icon" href="../icon.png">
    <link rel="stylesheet" href="../global.css">
</head>

<body>
    <div style="position: absolute; left:0; right:0; top:50%; transform:translateY(-50%); text-align:center; height: 300px; white-space:nowrap;">
        <div style="display: inline-block; position:relative; transform: translateX(40px);">
            <div style="display:inline-block; margin-bottom: 50px; vertical-align:bottom; color:rgb(0, 106, 167);">
                <a id="youtubeLink" href="https://www.youtube.com/user/noahanimerar" style="font-size:25px; color:#F00;">Watch my cartoons on YouTube!</a>
                <br>
                <p style="display:inline-block; font-size: 55px; margin-bottom:2px; margin-top:15px;">Noah A. H.'s</p>
                <br>
                <p style="display:inline-block; font-size:28px; margin-top:-30px; letter-spacing:8px;">official website</p>
            </div>
            <div id="lennard" style='display:inline-block; margin-top:-100px; width:300px; cursor:pointer; background-image:url("lennard.png");'></div>
            <audio id="danceMusic" preload="auto" src="dance music.wav"></audio>
        </div>
        <br>
        <div style="display:inline-block; position:absolute; left:0; right:0; background-color: rgb(0, 106, 167); color:white; font-size:22px; margin-top:10px;">
            <a href="../under-construction/index.html" style="display:inline-block; color:#BBB;">Blog</a>
            <p style="display:inline-block; margin-bottom:0px; margin-top:13px;">|</p>
            <a href="../under-construction/index.html" style="display:inline-block; color:#BBB;">Behind the Scenes</a>
            <p style="display:inline-block; margin-bottom:0px; margin-top:13px;">|</p>
            <a href="../archive/" style="display:inline-block; color:#fff;">Archive</a>
            <br>
            <a href="../about/index.html" style="display:inline-block; color:#FFF;">About</a>
            <p style="display:inline-block; margin-bottom:13px; margin-top: 0;">|</p>
            <a href="../contact/index.html" style="display:inline-block; color:#FFF;">Contact</a>
        </div>
    </div>

    <script>
        let youtubeLink = document.getElementById("youtubeLink");
        let isYoutubeLinkRed = true;

        setInterval(() => {
            isYoutubeLinkRed = !isYoutubeLinkRed;
            if (isYoutubeLinkRed) {
                youtubeLink.style.color = "#F00";
            }
            else {
                youtubeLink.style.color = "#FFF";
            }
        }, 900)
        
        //----------------------------------------

        let lennardFrames = [
            [ 0, 0, 300, 300 ],
            [ 300, 0, 300, 300 ],
            [ 600, 0, 300, 300 ],
            [ 900, 0, 300, 300 ],
            [ 1200, 0, 300, 300 ],
            [ 1500, 0, 300, 300 ],
            [ 1800, 0, 300, 300 ],
            [ 2100, 0, 300, 300 ],
            [ 2400, 0, 300, 300 ],
            [ 2700, 0, 300, 300 ],
            [ 3000, 0, 300, 300 ],
            [ 3300, 0, 300, 300 ],
            [ 3600, 0, 300, 300 ],
            [ 3900, 0, 300, 300 ],
            [ 4200, 0, 300, 300 ]
        ];
        
        let lennard = document.getElementById("lennard");
        let currentLennardIndex = 1;

        function setLennardFrame(p_index) {
            currentLennardIndex = p_index;
            lennard.style.backgroundPosition = '-' + lennardFrames[p_index][0].toString() + "px " + '-' + lennardFrames[p_index][1].toString() + "px";
            lennard.style.width = lennardFrames[p_index][2].toString() + "px";
            lennard.style.height = lennardFrames[p_index][3].toString() + "px";
        }
        setLennardFrame(1);

        let isLennardJumping = false;
        let danceMusic = document.getElementById("danceMusic");
        let timeoutHandle;

        function openEyes(p_duration) {
            if (!isLennardJumping) {
                currentLennardIndex = 1;
                setLennardFrame(currentLennardIndex);

                clearTimeout(timeoutHandle);
                timeoutHandle = setTimeout(closeEyes, p_duration);
            }
        } openEyes();

        function closeEyes() {
            if (!isLennardJumping) {
                currentLennardIndex = 0;
                setLennardFrame(currentLennardIndex);

                clearTimeout(timeoutHandle);
                timeoutHandle = setTimeout(() => { Math.random() < 0.2 ? openEyes(130) : openEyes(1500) }, 100);
            }
        }

        function updateJumpingAnimation() {
            if (isLennardJumping) {
                currentLennardIndex++;
                if (currentLennardIndex == lennardFrames.length) {
                    currentLennardIndex = 2;
                }
                setLennardFrame(currentLennardIndex);

                setTimeout(updateJumpingAnimation, 86);
            }
        }

        lennard.addEventListener("click", () => {
            if (!isLennardJumping) {
                currentLennardIndex = 2;
                isLennardJumping = true;
                updateJumpingAnimation();

                danceMusic.play();

                clearTimeout(timeoutHandle);
                timeoutHandle = setTimeout(() => {
                    isLennardJumping = false;
                    openEyes();
                }, danceMusic.duration*1000);
            }
        });
        
    </script>
</body>

</html>